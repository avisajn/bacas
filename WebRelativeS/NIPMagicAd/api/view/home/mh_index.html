<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>Daily Statistics</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    <style type="text/css">
        .layui-m-layer{position:relative;z-index:19891014}.layui-m-layer *{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.layui-m-layermain,.layui-m-layershade{position:fixed;left:0;top:0;width:100%;height:100%}.layui-m-layershade{background-color:rgba(0,0,0,.7);pointer-events:auto}.layui-m-layermain{display:table;font-family:Helvetica,arial,sans-serif;pointer-events:none}.layui-m-layermain .layui-m-layersection{display:table-cell;vertical-align:middle;text-align:center}.layui-m-layerchild{
                position:relative;display:inline-block;text-align:left;background-color:#fff;font-size:14px;border-radius:5px;box-shadow:0 0 8px rgba(0,0,0,.1);pointer-events:auto;-webkit-overflow-scrolling:touch;-webkit-animation-fill-mode:both;animation-fill-mode:both;
            }.layui-m-anim-scale{animation-name:layui-m-anim-scale;-webkit-animation-name:layui-m-anim-scale}@-webkit-keyframes layui-m-anim-up{0%{opacity:0;-webkit-transform:translateY(800px);transform:translateY(800px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes layui-m-anim-up{0%{opacity:0;-webkit-transform:translateY(800px);transform:translateY(800px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.layui-m-anim-up{-webkit-animation-name:layui-m-anim-up;animation-name:layui-m-anim-up}.layui-m-layer0 .layui-m-layerchild{width:90%;max-width:640px}.layui-m-layer1 .layui-m-layerchild{border:none;border-radius:0}.layui-m-layer2 .layui-m-layerchild{width:auto;max-width:260px;min-width:40px;border:none;background:0 0;box-shadow:none;color:#fff}.layui-m-layerchild h3{padding:0 10px;height:60px;line-height:60px;font-size:16px;font-weight:400;border-radius:5px 5px 0 0;text-align:center}.layui-m-layerbtn span,.layui-m-layerchild h3{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.layui-m-layercont{padding:50px 30px;line-height:22px;text-align:center}.layui-m-layer1 .layui-m-layercont{padding:0;text-align:left}.layui-m-layer2 .layui-m-layercont{text-align:center;padding:0;line-height:0}.layui-m-layer2 .layui-m-layercont i{width:25px;height:25px;margin-left:8px;display:inline-block;background-color:#fff;border-radius:100%;-webkit-animation:layui-m-anim-loading 1.4s infinite ease-in-out;animation:layui-m-anim-loading 1.4s infinite ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.layui-m-layerbtn,.layui-m-layerbtn span{position:relative;text-align:center;border-radius:0 0 5px 5px}.layui-m-layer2 .layui-m-layercont p{margin-top:20px}@-webkit-keyframes layui-m-anim-loading{0%,100%,80%{transform:scale(0);-webkit-transform:scale(0)}40%{transform:scale(1);-webkit-transform:scale(1)}}@keyframes layui-m-anim-loading{0%,100%,80%{transform:scale(0);-webkit-transform:scale(0)}40%{transform:scale(1);-webkit-transform:scale(1)}}.layui-m-layer2 .layui-m-layercont i:first-child{margin-left:0;-webkit-animation-delay:-.32s;animation-delay:-.32s}.layui-m-layer2 .layui-m-layercont i.layui-m-layerload{-webkit-animation-delay:-.16s;animation-delay:-.16s}.layui-m-layer2 .layui-m-layercont>div{line-height:22px;padding-top:7px;margin-bottom:20px;font-size:14px}.layui-m-layerbtn{display:box;display:-moz-box;display:-webkit-box;width:100%;height:50px;line-height:50px;font-size:0;border-top:1px solid #D0D0D0;background-color:#F2F2F2}.layui-m-layerbtn span{display:block;-moz-box-flex:1;box-flex:1;-webkit-box-flex:1;font-size:14px;cursor:pointer}.layui-m-layerbtn span[yes]{color:#40AFFE}.layui-m-layerbtn span[no]{border-right:1px solid #D0D0D0;border-radius:0 0 0 5px}.layui-m-layerbtn span:active{background-color:#F6F6F6}.layui-m-layerend{position:absolute;right:7px;top:10px;width:30px;height:30px;border:0;font-weight:400;background:0 0;cursor:pointer;-webkit-appearance:none;font-size:30px}.layui-m-layerend::after,.layui-m-layerend::before{position:absolute;left:5px;top:15px;content:'';width:18px;height:1px;background-color:#999;transform:rotate(45deg);-webkit-transform:rotate(45deg);border-radius:3px}.layui-m-layerend::after{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}body .layui-m-layer .layui-m-layer-footer{position:fixed;width:95%;max-width:100%;margin:0 auto;left:0;right:0;bottom:10px;background:0 0}.layui-m-layer-footer .layui-m-layercont{padding:20px;border-radius:5px 5px 0 0;background-color:rgba(255,255,255,.8)}.layui-m-layer-footer .layui-m-layerbtn{display:block;height:auto;background:0 0;border-top:none}.layui-m-layer-footer .layui-m-layerbtn span{background-color:rgba(255,255,255,.8)}.layui-m-layer-footer .layui-m-layerbtn span[no]{color:#FD482C;border-top:1px solid #c2c2c2;border-radius:0 0 5px 5px}.layui-m-layer-footer .layui-m-layerbtn span[yes]{margin-top:10px;border-radius:5px}body .layui-m-layer .layui-m-layer-msg{width:auto;max-width:90%;margin:0 auto;bottom:-150px;background-color:rgba(0,0,0,.7);color:#fff}.layui-m-layer-msg .layui-m-layercont{padding:10px 20px}
    	html,body,h1,h2,h3,h4,h5,h6,div,dl,dt,dd,ul,ol,li,p,blockquote,pre,hr,figure,table,caption,th,td,form,fieldset,legend,input,button,textarea,menu{margin:0;padding:0;}
		table{border-collapse:collapse;border-spacing:0;}
		caption,th{text-align:left;font-weight:normal;}
		html,body,fieldset,img,iframe,abbr{border:0;}
		i,cite,em,var,address,dfn{font-style:normal;}
		[hidefocus],summary{outline:0;}
		li{list-style:none;}
		h1,h2,h3,h4,h5,h6,small{font-size:100%;}
		sup,sub{font-size:83%;}
		pre,code,kbd,samp{font-family:inherit;}
		q:before,q:after{content:none;}
		textarea{overflow:auto;resize:none;}
		label,summary{cursor:default;}
		a,button{cursor:pointer;}
		h1,h2,h3,h4,h5,h6,em,strong,b{font-weight:bold;}
		del,ins,u,s,a,a:hover{text-decoration:none;}
		body,textarea,input,button,select,keygen,legend{font:12px/1.14 arial,\5b8b\4f53;color:#333;outline:0;}
		body{background:#fff;}
		a,a:hover{color:#333;}
		.content-img{
			padding:5px;
		}
		.img-list li{
			width: 48%;
    		float:left;
    		overflow:hidden;
    		margin-bottom:10px;
            text-align: center;
            position: relative;
            border: 1px solid #f0efef;
            margin-left:1%;
		}
        .img-list li .plus{
            position: absolute;
            top:0px;
            right: 0px;
            width: 30px;
            height: 30px;
            display: inline-block;
            text-align: center;
            line-height: 30px;
            background: rgba(0, 0, 0, 0.16);
        }
		.img-list li .img-iframe{
			width : 150px;
			height:180px;
            border:0px;
		}
        .img-list li .blank{
            position: absolute;
            top:0px;
            left:0px;
            right:0px;
            z-index:1;
            bottom: 0px;
        }
        .img-list li .title{
            height:40px;
            overflow: hidden;
        }
        .hide{
            display: none;
        }
    </style>
    <style type="text/css">
    .previewImgs{
        position: relative;
        width: 100%;
        height: 100%;

    }
    .previewImgs .close{
        position: absolute;
        right:5px;
        top:5px;
        height:40px;
        width:40px;
        /*border:1px solid black;*/
        text-align: center;
        line-height: 40px;
        font-size: 12px;
        background: rgba(128, 128, 128, 0.32);
    }

    .previewImgs .img-iframe{
        border:1px solid black;
        width:99%;
        height: 99%;
    }
    .layui-m-layercont{
        height: 100%;
        width: 100%;
    }
    .updownpage{

    }
    .updownpage >div{
        width: 48%;
        float:left;
        margin-left:1%;
        height:40px;
        line-height: 40px;
        text-align: center;
        border:1px solid black;
    }   
    </style>
    <!-- <link rel="stylesheet" href="http://ymark-public.oss-cn-shanghai.aliyuncs.com/other/photoswipe.css">  -->
    <!-- <link rel="stylesheet" href="http://ymark-public.oss-cn-shanghai.aliyuncs.com/other/default-skin/default-skin.css">  -->
</head>
<body>
	<div class="content-img">
		<ul class="img-list">
			<%controller.dataList.forEach(function(item ,i){%>
			<li index="<%=i%>" onclick="openSwipe(<%=i%>)">
                <span class="plus">+</span>
                <div class="blank"></div>
                <iframe data-src="/home/mh/img.html?s=<%=item.img%>" src="/home/mh/img.html?s=<%=item.img%>" class="img-iframe" border="0"></iframe>
				<div class="title"><%=item.title%></div>
			</li>
			<%})%>
		</ul>
	</div>
    <div class="updownpage">
        <div class="up" onclick="upPage()">上一页</div>
        <div class="down" onclick="nextPage()">下一页</div>
    </div>
    <div id="frameHide" class="hide">
        <div class="previewImgs">
            <div class="close" onclick="closeSwip()">关闭</div>  
            <iframe id="framePreview" data-src="/home/mh/info.html" class="img-iframe" border="0"></iframe>
        </div>
    </div>
    <script type="text/javascript" src="http://ymark-public.oss-cn-shanghai.aliyuncs.com/other/jquery.min.js"></script>
    <!-- <script type="text/javascript" src="http://ymark-public.oss-cn-shanghai.aliyuncs.com/other/photoswipe.min.js"></script> -->
    <!-- <script type="text/javascript" src="http://ymark-public.oss-cn-shanghai.aliyuncs.com/other/photoswipe-ui-default.min.js"></script> -->
    <script type="text/javascript">
        /*! layer mobile-v2.0 弹层组件移动版 License LGPL http://layer.layui.com/mobile By 贤心 */
        ;!function(a){"use strict";var b=document,c="querySelectorAll",d="getElementsByClassName",e=function(a){return b[c](a)},f={type:0,shade:!0,shadeClose:!0,fixed:!0,anim:"scale"},g={extend:function(a){var b=JSON.parse(JSON.stringify(f));for(var c in a)b[c]=a[c];return b},timer:{},end:{}};g.touch=function(a,b){a.addEventListener("click",function(a){b.call(this,a)},!1)};var h=0,i=["layui-m-layer"],j=function(a){var b=this;b.config=g.extend(a),b.view()};j.prototype.view=function(){var a=this,c=a.config,f=b.createElement("div");a.id=f.id=i[0]+h,f.setAttribute("class",i[0]+" "+i[0]+(c.type||0)),f.setAttribute("index",h);var g=function(){var a="object"==typeof c.title;return c.title?'<h3 style="'+(a?c.title[1]:"")+'">'+(a?c.title[0]:c.title)+"</h3>":""}(),j=function(){"string"==typeof c.btn&&(c.btn=[c.btn]);var a,b=(c.btn||[]).length;return 0!==b&&c.btn?(a='<span yes type="1">'+c.btn[0]+"</span>",2===b&&(a='<span no type="0">'+c.btn[1]+"</span>"+a),'<div class="layui-m-layerbtn">'+a+"</div>"):""}();if(c.fixed||(c.top=c.hasOwnProperty("top")?c.top:100,c.style=c.style||"",c.style+=" top:"+(b.body.scrollTop+c.top)+"px"),2===c.type&&(c.content='<i></i><i class="layui-m-layerload"></i><i></i><p>'+(c.content||"")+"</p>"),c.skin&&(c.anim="up"),"msg"===c.skin&&(c.shade=!1),f.innerHTML=(c.shade?"<div "+("string"==typeof c.shade?'style="'+c.shade+'"':"")+' class="layui-m-layershade"></div>':"")+'<div class="layui-m-layermain" '+(c.fixed?"":'style="position:static;"')+'><div class="layui-m-layersection"><div class="layui-m-layerchild '+(c.skin?"layui-m-layer-"+c.skin+" ":"")+(c.className?c.className:"")+" "+(c.anim?"layui-m-anim-"+c.anim:"")+'" '+(c.style?'style="'+c.style+'"':"")+">"+g+'<div class="layui-m-layercont">'+c.content+"</div>"+j+"</div></div></div>",!c.type||2===c.type){var k=b[d](i[0]+c.type),l=k.length;l>=1&&layer.close(k[0].getAttribute("index"))}document.body.appendChild(f);var m=a.elem=e("#"+a.id)[0];c.success&&c.success(m),a.index=h++,a.action(c,m)},j.prototype.action=function(a,b){var c=this;a.time&&(g.timer[c.index]=setTimeout(function(){layer.close(c.index)},1e3*a.time));var e=function(){var b=this.getAttribute("type");0==b?(a.no&&a.no(),layer.close(c.index)):a.yes?a.yes(c.index):layer.close(c.index)};if(a.btn)for(var f=b[d]("layui-m-layerbtn")[0].children,h=f.length,i=0;h>i;i++)g.touch(f[i],e);if(a.shade&&a.shadeClose){var j=b[d]("layui-m-layershade")[0];g.touch(j,function(){layer.close(c.index,a.end)})}a.end&&(g.end[c.index]=a.end)},a.layer={v:"2.0",index:h,open:function(a){var b=new j(a||{});return b.index},close:function(a){var c=e("#"+i[0]+a)[0];c&&(c.innerHTML="",b.body.removeChild(c),clearTimeout(g.timer[a]),delete g.timer[a],"function"==typeof g.end[a]&&g.end[a](),delete g.end[a])},closeAll:function(){for(var a=b[d](i[0]),c=0,e=a.length;e>c;c++)layer.close(0|a[0].getAttribute("index"))}},"function"==typeof define?define(function(){return layer}):function(){var a=document.scripts,c=a[a.length-1],d=c.src,e=d.substring(0,d.lastIndexOf("/")+1);c.getAttribute("merge")||document.head.appendChild(function(){var a=b.createElement("link");return a.href=e+"need/layer.css?2.0",a.type="text/css",a.rel="styleSheet",a.id="layermcss",a}())}()}(window);
    </script>
   	<script type="text/javascript">
        var decodeHtmlEntity = function(str) {
          return str.replace(/&#(\d+);/g, function(match, dec) {
            return String.fromCharCode(dec);
          });
        }; 
        function getQuery(name){
            var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
            var r = window.location.search.substr(1).match(reg);
            if(r!=null)return  unescape(r[2]); return null;
        }
        var data = JSON.parse(decodeHtmlEntity("<%=controller.dataJson%>"));
        const origin = window.location.origin;
        $(function() {
            $('.img-list .plus').click(function(){
                var $frame = $(this).next('iframe');
                $frame.attr('src' , origin+'/'+$frame.attr('data-src'));
            })
        });

        function createImgList(obj){
            window.open(origin+'/home/mh/info.html?b='+obj.baseurl+'&suf='+obj.suf+'&c=1&total='+obj.total);
            // $('#framePreview').attr('src','/home/mh/info.html?b='+obj.baseurl+'&suf='+obj.suf+'&c=1&total='+obj.total);
        }

        var current = getQuery('current') || 1;
        current = parseInt(current);
        function nextPage(){
            window.location.href = '/home/mh/index.html?current='+(current+1);    
        }
        function upPage(){
            if(current <= 1) return;
            window.location.href = '/home/mh/index.html?current='+(current-1);    
        }
        var pageii = null;
        function openSwipe(i) {
            var obj = data[i];
            window.open(origin+'/home/mh/info.html?b='+obj.baseurl+'&suf='+obj.suf+'&c=1&total='+obj.total);
            return;
            createImgList(data[i]);
            pageii = layer.open({
              type: 1
              ,content: $('#frameHide').html()
              ,anim: 'up'
              ,style: 'position:fixed; left:0; top:0; width:100%; height:100%; border: none;'
            });
        }
        function closeSwip() {
            layer.closeAll();
            // body...
        }
   	</script>
</body>
</html> 