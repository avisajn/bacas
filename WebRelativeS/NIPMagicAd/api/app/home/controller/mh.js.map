{"version":3,"sources":["../../../src/home/controller/mh.js"],"names":["db","dbmh","indexAction","params","get","current","model_mh","model","field","page","select","list","newList","map","k","content","push","JSON","parse","dataJson","dataList","display","imgAction","infoAction"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;AACA;;;;;;AACA,IAAMA,KAAK,aAAGC,IAAd;;;;;;;;;;AAGE;;;;mBAIMC,W;;;;;;;AACDC,oB,GAAc,KAAKC,GAAL,MAAc,E,EAC3BC,O,GAAcF,OAAOE,OAAP,IAAkB,C;AAC9BC,sB,GAAW,KAAKC,KAAL,CAAW,MAAX,EAAmBP,EAAnB,C;;qBACEM,SAASE,KAAT,CAAe,mBAAf,EAAoCC,IAApC,CAAyCJ,OAAzC,EAAkD,EAAlD,EAAsDK,MAAtD,E;;;AAAbC,kB;AACFC,qB,GAAU,E;;AACdD,mBAAKE,GAAL,CAAS,UAACC,CAAD,EAAO;AACf;AACA,oBAAGA,EAAEC,OAAF,IAAaD,EAAEC,OAAF,IAAW,WAA3B,EAAuC;AACtCH,0BAAQI,IAAR,CAAaC,KAAKC,KAAL,CAAWJ,EAAEC,OAAb,CAAb;AACA,iBAFD,MAEK;AACJH,0BAAQI,IAAR,CAAa,EAAb;AACA;AACD,eAPD;AAQA,mBAAKG,QAAL,GAAgB,yBAAeP,OAAf,CAAhB;AACA,mBAAKQ,QAAL,GAAgBT,IAAhB;+CACO,KAAKU,OAAL,CAAa,OAAb,C;;;;;;;;;;;;;;;;;mBAITC,S,wBAAW;AACV,WAAO,KAAKD,OAAL,CAAa,KAAb,CAAP;AACA,G;;mBAEDE,U,yBAAY;AACX,WAAO,KAAKF,OAAL,CAAa,MAAb,CAAP;AACA,G","file":"mh.js","sourcesContent":["'use strict';\n\nimport Base from './base.js';\nimport DB from '../../db.js';\nconst db = DB.dbmh;\n\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n  async indexAction(){\n  \tlet params      = this.get() || {},\n        current     = params.current || 1;\n    const model_mh = this.model('pmmh' ,db);\n    const list = await model_mh.field('content,img,title').page(current, 10).select();\n    let newList = [];\n    list.map((k) => {\n    \t// newList.push(JSON.parse());\n    \tif(k.content && k.content!='undefined'){\n    \t\tnewList.push(JSON.parse(k.content))\n    \t}else{\n    \t\tnewList.push({});\n    \t}\n    });\n    this.dataJson = JSON.stringify(newList);\n    this.dataList = list;\n    return this.display('index');\n  }\n\n\n  imgAction(){\n  \treturn this.display('img');\n  }\n\n  infoAction(){\n  \treturn this.display('info');\n  }\n}"]}