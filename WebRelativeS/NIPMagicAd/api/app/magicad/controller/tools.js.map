{
    "version": 3,
    "sources": [
        "../../../src/magicad/controller/tools.js"
    ],
    "names": [
        "db",
        "dbfood",
        "getAction",
        "success",
        "text",
        "children",
        "key",
        "icon",
        "getbyidAction",
        "params",
        "get",
        "id",
        "fail",
        "model_recipe",
        "model",
        "field",
        "where",
        "select",
        "data",
        "length",
        "getlabelsAction",
        "model_labels",
        "obj",
        "map",
        "k",
        "parent",
        "push",
        "name",
        "getcanstypeAction",
        "img",
        "getcansAction"
    ],
    "mappings": "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",
    "file": "../../../src/magicad/controller/tools.js",
    "sourcesContent": [
        "'use strict';\n\nimport moment from 'moment';\nimport Base from './base.js';\nimport DB from '../../db.js';\nconst db = DB.dbfood;\n\nimport {decryptCode ,encryptCode} from '../../util.js';\n\nexport default class extends Base {\n    // 获取列表\n    async getAction(){\n        return this.success([\n            {\n              text:'未准妈' ,\n              children:[\n                {key:'/step1/calc_safe' ,icon:'http://ymark-public.oss-cn-shanghai.aliyuncs.com/pps/food/icon/step1_1.png' ,text:'安全期计算器'},\n                {key:'/step1/calc_ovulation' ,icon:'http://ymark-public.oss-cn-shanghai.aliyuncs.com/pps/food/icon/step1_2.png' ,text:'排卵期计算器'},\n                {key:'/step1/temp_chart' ,icon:'http://ymark-public.oss-cn-shanghai.aliyuncs.com/pps/food/icon/step1_3.png' ,text:'基础体温曲线图'},\n                {key:'/step1/conception' ,icon:'http://ymark-public.oss-cn-shanghai.aliyuncs.com/pps/food/icon/step1_4.png' ,text:'受孕的秘密'},\n                {key:'/step1/pregnancy' ,icon:'http://ymark-public.oss-cn-shanghai.aliyuncs.com/pps/food/icon/step1_5.png' ,text:'准备怀孕'},\n                {key:'' ,icon:'http://ymark-public.oss-cn-shanghai.aliyuncs.com/pps/food/icon/step1_6.png' ,text:'妇科检查'},\n              ]\n            },\n            {\n              text:'准妈妈' ,\n              children:[\n                {key:'' ,icon:'' ,text:'孕程周历_孕早（1-12周）'},\n                {key:'' ,icon:'' ,text:'孕程周历_孕中（13-27周）'},\n                {key:'' ,icon:'' ,text:'孕程周历_孕晚（28周后）'},\n                {key:'' ,icon:'' ,text:'预产期计算器'},\n                {key:'' ,icon:'' ,text:'预测宝宝血型'},\n                {key:'' ,icon:'' ,text:'读懂B超单'},\n                {key:'' ,icon:'' ,text:'产前检查'},\n                {key:'' ,icon:'' ,text:'临产征兆'},\n                {key:'' ,icon:'' ,text:'孕妇体操'},\n                {key:'' ,icon:'' ,text:'办证指南'},\n                {key:'' ,icon:'' ,text:'孕期“去痛”'},\n                {key:'' ,icon:'' ,text:'待产包'},\n                {key:'' ,icon:'' ,text:'分娩尴尬事'},\n                {key:'' ,icon:'' ,text:'破解生男生女传言'},\n                {key:'' ,icon:'' ,text:'妇科检查'},\n              ]\n            },\n            {\n              text:'新妈妈' ,\n              children:[\n                {key:'' ,icon:'' ,text:'产后生活日历'},\n                {key:'' ,icon:'' ,text:'坐月子'},\n                {key:'' ,icon:'' ,text:'催奶大法'},\n                {key:'' ,icon:'' ,text:'母乳喂养经验20招'},\n                {key:'' ,icon:'' ,text:'春季六大传染病预防'},\n                {key:'' ,icon:'' ,text:'疫苗接种计划'},\n              ]\n            },\n            {\n              text:'婴幼儿' ,\n              children:[\n                {key:'' ,icon:'' ,text:'成长月历（1-12月）'},\n                {key:'' ,icon:'' ,text:'成长月历（1-2岁）'},\n                {key:'' ,icon:'' ,text:'成长月历（2-3岁）'},\n                {key:'' ,icon:'' ,text:'宝宝身高体重标准'},\n                {key:'' ,icon:'' ,text:'宝宝辅食制作'},\n                {key:'' ,icon:'' ,text:'辅食添加办法'},\n                {key:'' ,icon:'' ,text:'疫苗接种时间表定制'},\n                {key:'' ,icon:'' ,text:'实用补钙'},\n                {key:'' ,icon:'' ,text:'提高免疫力'},\n                {key:'' ,icon:'' ,text:'0-3岁早教游戏'},\n                {key:'' ,icon:'' ,text:'20个亲子游戏'},\n                {key:'' ,icon:'' ,text:'儿科二级及以上医疗机构'},\n                {key:'' ,icon:'' ,text:'春季六大传染病预防'},\n                {key:'' ,icon:'' ,text:'疫苗接种计划'},\n                {key:'' ,icon:'' ,text:'妇科检查'},\n              ]\n            },\n            {\n              text:'学龄前' ,\n              children:[\n                {key:'' ,icon:'' ,text:'3-4岁'},\n                {key:'' ,icon:'' ,text:'4-5岁'},\n                {key:'' ,icon:'' ,text:'5-6岁'},\n                {key:'' ,icon:'' ,text:'儿科二级及以上医疗机构'},\n                {key:'' ,icon:'' ,text:'春季六大传染病预防'},\n                {key:'' ,icon:'' ,text:'疫苗接种计划'},\n              ]\n            },\n          ])\n    }\n\n    // 根据ID查询出菜单\n    async getbyidAction(){\n        let params    = this.get() || {},\n            id        = params.id;\n        if(!id){return this.fail(-1 ,'参数错误'); }\n        const model_recipe = this.model('recipe' ,db);\n        let data = await model_recipe.field('id,food_name,food_pic,label,effect,material,seasoning,intro,content,features,taboo').where('id='+id).select();\n        if(data.length <= 0){\n            return this.fail(-2,'未查询到！');\n        }\n        data = data[0];\n        return this.success(data);\n    }\n\n    // 得到所有的类型\n    async getlabelsAction(){\n        // 一共三类\n        const model_labels = this.model('labels' ,db);\n        const data = await model_labels.field('id,name,parent').where('parent!=0').select();\n        const obj = {'-1' : [], '-2' : [], '-3' : [] };\n        data.map((k) => obj['-'+k.parent].push({key:k.id ,name:k.name}));\n        return this.success(obj);\n    }\n\n\n    // 获取能不能的所有类型\n    async getcanstypeAction(){\n        // 一共两类 ： 分为能不能做 和 能不能吃\n\n        const model = this.model('cantype' ,db);\n        const data = await model.field('key ,name ,img ,parent').where('parent=1 or parent=2').select();\n        const obj = {'-1' : [], '-2' : []};\n        data.map((k) => obj['-'+k.parent].push({key:k.key ,name:k.name ,img:k.img}));\n        return this.success(obj);\n    }\n\n    // 获取能不能的所有类型\n    async getcansAction(){\n        let params    = this.get() || {},\n            key        = params.key;\n        if(!key){return this.fail(-1 ,'参数错误'); }\n        const model = this.model('cans' ,db);\n        const data = await model.field('name ,img,small ,content').where('type='+key).select();\n        return this.success(data);\n    }\n\n}"
    ]
}