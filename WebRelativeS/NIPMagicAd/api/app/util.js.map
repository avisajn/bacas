{"version":3,"sources":["../src/util.js"],"names":["getDays","decryptCode","simpleDecryptCode","encryptCode","endDate","date","Date","y","getFullYear","m","getMonth","d","getDate","array","split","endTime","parseInt","nowTime","day","Number","key","code","_key","keyHex","enc","Utf8","parse","decrypted","DES","decrypt","ciphertext","Base64","mode","ECB","padding","pad","Pkcs7","e","JSON","toString","AES","console","log","obj","encrypted","encrypt"],"mappings":";;;;;;;;QAIgBA,O,GAAAA,O;QAgBAC,W,GAAAA,W;QAeAC,iB,GAAAA,iB;QAeAC,W,GAAAA,W;;AAlDhB;;;;;;AAEA;AACA;AACO,SAASH,OAAT,CAAiBI,OAAjB,EAAyB;AAC/B,KAAIC,OAAO,IAAIC,IAAJ,EAAX;AACA,KAAIC,IAAIF,KAAKG,WAAL,EAAR;AACA,KAAIC,IAAIJ,KAAKK,QAAL,EAAR;AACA,KAAIC,IAAIN,KAAKO,OAAL,EAAR;;AAEA,KAAIC,QAAQT,QAAQU,KAAR,CAAc,GAAd,CAAZ;AACA,KAAIC,UAAU,IAAIT,IAAJ,CAASU,SAASH,MAAM,CAAN,CAAT,CAAT,EAA6BG,SAASH,MAAM,CAAN,CAAT,IAAqB,CAAlD,EAAqDG,SAASH,MAAM,CAAN,CAAT,CAArD,CAAd;AACA,KAAII,UAAU,IAAIX,IAAJ,CAASU,SAAST,CAAT,CAAT,EAAsBS,SAASP,CAAT,CAAtB,EAAmCO,SAASL,CAAT,CAAnC,CAAd;AACA,KAAIO,MAAM,CAACC,OAAOJ,OAAP,IAAkBI,OAAOF,OAAP,CAAnB,KAAuC,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAAxD,CAAV;AACA,QAAOC,GAAP;AACA;;AAED,IAAME,MAAM,oBAAZ;;AAEA;AACO,SAASnB,WAAT,CAAqBoB,IAArB,EAA2BC,IAA3B,EAAgC;AACtC,KAAIC,SAAS,mBAASC,GAAT,CAAaC,IAAb,CAAkBC,KAAlB,CAAwBJ,QAAQF,GAAhC,CAAb;AACA,KAAIO,YAAY,IAAhB;AACA,KAAG;AACCA,cAAY,mBAASC,GAAT,CAAaC,OAAb,CAAqB,EAACC,YAAY,mBAASN,GAAT,CAAaO,MAAb,CAAoBL,KAApB,CAA0BL,IAA1B,CAAb,EAArB,EAAoEE,MAApE,EAA4E;AACpFS,SAAM,mBAASA,IAAT,CAAcC,GADgE;AAEpFC,YAAS,mBAASC,GAAT,CAAaC;AAF8D,GAA5E,CAAZ;AAIH,EALD,CAKC,OAAMC,CAAN,EAAQ;AACR;AACA;AACD,QAAOC,KAAKZ,KAAL,CAAWC,UAAUY,QAAV,CAAmB,mBAASf,GAAT,CAAaC,IAAhC,CAAX,CAAP;AACA;;AAED;AACO,SAASvB,iBAAT,CAA2BmB,IAA3B,EAAiCC,IAAjC,EAAsC;AAC5C,KAAIK,YAAY,IAAhB;AACA,KAAG;AACFA,cAAa,mBAASa,GAAT,CAAaX,OAAb,CAAqBR,IAArB,EAA2BC,IAA3B,CAAb;AACAK,cAAYA,UAAUY,QAAV,CAAmB,mBAASf,GAAT,CAAaC,IAAhC,CAAZ;AACAgB,UAAQC,GAAR,CAAY,YAAZ,EAAyBf,SAAzB;AACAA,cAAYW,KAAKZ,KAAL,CAAWC,SAAX,CAAZ;AACA,EALD,CAKC,OAAMU,CAAN,EAAQ;AACRI,UAAQC,GAAR,CAAY,IAAZ,EAAiBL,CAAjB;AACA;AACA;AACD,QAAOV,SAAP;AACA;;AAED;AACO,SAASxB,WAAT,CAAqBwC,GAArB,EAA0BrB,IAA1B,EAAgC;AACtC,KAAIC,SAAS,mBAASC,GAAT,CAAaC,IAAb,CAAkBC,KAAlB,CAAwBJ,QAAQF,GAAhC,CAAb;AACA,KAAIwB,YAAY,IAAhB;AACA,KAAG;AACFA,cAAY,mBAAShB,GAAT,CAAaiB,OAAb,CAAqB,yBAAeF,GAAf,CAArB,EAA0CpB,MAA1C,EAAkD;AACvDS,SAAM,mBAASA,IAAT,CAAcC,GADmC;AAEvDC,YAAS,mBAASC,GAAT,CAAaC;AAFiC,GAAlD,CAAZ;AAIA,EALD,CAKC,OAAMC,CAAN,EAAQ;AACR;AACA;AACD,QAAOO,UAAUL,QAAV,EAAP;AACA","file":"util.js","sourcesContent":["import CryptoJS from 'crypto-js';\n\n// 得到结束日期距当前日期的天数\n// 俩日期相减，返回天数\nexport function getDays(endDate){\n\tlet date = new Date();\n\tlet y = date.getFullYear();\n\tlet m = date.getMonth();\n\tlet d = date.getDate();\n\n\tlet array = endDate.split(\"-\");\n\tlet endTime = new Date(parseInt(array[0]), parseInt(array[1]) - 1, parseInt(array[2]));\n\tlet nowTime = new Date(parseInt(y), parseInt(m), parseInt(d));\n\tlet day = (Number(endTime) - Number(nowTime)) / (1000 * 60 * 60 * 24);\n\treturn day;\n}\n\nconst key = 'baca_film_activity';\n\n// 解密\nexport function decryptCode(code ,_key){\n\tlet keyHex = CryptoJS.enc.Utf8.parse(_key || key);\n\tlet decrypted = null;\n\ttry{\n\t    decrypted = CryptoJS.DES.decrypt({ciphertext: CryptoJS.enc.Base64.parse(code)}, keyHex, {\n\t        mode: CryptoJS.mode.ECB,\n\t        padding: CryptoJS.pad.Pkcs7\n\t    });\n\t}catch(e){\n\t\treturn;\n\t}\n\treturn JSON.parse(decrypted.toString(CryptoJS.enc.Utf8));\n}\n\n// 解密\nexport function simpleDecryptCode(code ,_key){\n\tlet decrypted = null;\n\ttry{\n\t\tdecrypted  = CryptoJS.AES.decrypt(code, _key);\n\t\tdecrypted = decrypted.toString(CryptoJS.enc.Utf8);\n\t\tconsole.log('decrypted:',decrypted);\n\t\tdecrypted = JSON.parse(decrypted);\n\t}catch(e){\n\t\tconsole.log('e:',e);\n\t\treturn;\n\t}\n\treturn decrypted;\n}\n\n// 加密\nexport function encryptCode(obj ,_key) {\n\tlet keyHex = CryptoJS.enc.Utf8.parse(_key || key);\n\tlet encrypted = null;\n\ttry{\n\t\tencrypted = CryptoJS.DES.encrypt(JSON.stringify(obj), keyHex, {\n\t        mode: CryptoJS.mode.ECB,\n\t        padding: CryptoJS.pad.Pkcs7\n\t    });\n\t}catch(e){\n\t\treturn;\n\t}\n\treturn encrypted.toString();\n}\n"]}