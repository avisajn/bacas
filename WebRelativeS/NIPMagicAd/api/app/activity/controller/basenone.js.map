{"version":3,"sources":["../../../src/activity/controller/basenone.js"],"names":["__before","allowAccessOrigin","http","headers","origin","console","log","header","method","toLowerCase","end","think","controller","base"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;;;;;;;AAEE;;;mBAGMA,Q;;;;;;;AACAC,+B,GAAoB,KAAKC,IAAL,CAAUC,OAAV,CAAkBC,M;;AAC1CC,sBAAQC,GAAR,CAAY,oBAAZ,EAAiCL,iBAAjC;AACA,mBAAKM,MAAL,CAAY,6BAAZ,EAA2CN,iBAA3C;AACA;AACA,mBAAKM,MAAL,CAAY,8BAAZ,EAA4C,mGAA5C;AACA,mBAAKA,MAAL,CAAY,8BAAZ,EAA4C,iCAA5C;AACA,mBAAKA,MAAL,CAAY,kCAAZ,EAAgD,MAAhD;;oBACG,KAAKL,IAAL,CAAUM,MAAV,CAAiBC,WAAjB,OAAmC,S;;;;;AACpC,mBAAKC,GAAL;;;;;;;;;;;;;;;;;;;EAbuBC,MAAMC,UAAN,CAAiBC,I","file":"basenone.js","sourcesContent":["'use strict';\n\nimport {decryptCode} from '../../util.js';\nexport default class extends think.controller.base {\n  /**\n   * some base method in here\n   */\n  async __before() {\n    let allowAccessOrigin = this.http.headers.origin;\n    console.log('allowAccessOrigin:',allowAccessOrigin);\n    this.header('Access-Control-Allow-Origin', allowAccessOrigin);\n    // this.header('Access-Control-Allow-Headers', 'Content-Type,Content-Length, Authorization, Accept ,uk,enctype,document,location');\n    this.header('Access-Control-Allow-Headers', 'Content-Type,Content-Length, Authorization, Accept ,X-Requested-With,uk,enctype,document,location');\n    this.header('Access-Control-Allow-Methods', \"GET, POST, PUT, DELETE, OPTIONS\");\n    this.header('Access-Control-Allow-Credentials', 'true');\n    if(this.http.method.toLowerCase() === \"options\"){\n      this.end();\n      return;\n    }\n  }\n}"]}