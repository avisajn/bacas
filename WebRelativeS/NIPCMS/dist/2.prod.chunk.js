webpackJsonp([2],{11:function(e,t,n){var i,a;n(12),i=n(13),a=n(26),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),a&&(("function"==typeof e.exports?e.exports.options:e.exports).template=a)},12:function(e,t){},13:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=i(a),s=n(22),l=i(s),r=n(17),c=i(r);t.default={data:function(e){return{navMenuDisplay:c.default.get("menu-display")}},ready:function(){},components:{navHead:o.default,cmpMenu:l.default},beforeDestroy:function(){},methods:{onMenuClick:function(){this.navMenuDisplay=!this.navMenuDisplay,c.default.set("menu-display",this.navMenuDisplay)}}}},14:function(e,t,n){var i,a;n(15),i=n(16),a=n(21),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),a&&(("function"==typeof e.exports?e.exports.options:e.exports).template=a)},15:function(e,t){},16:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),o=i(a),s={id:"Indonesia",br:"Brazil"};t.default={data:function(){var e=window.country,t=!0,n=!0,i=[];return e?e.indexOf(",")?e.split(",").map(function(e){i.push({value:e,label:s[e]})}):i=[{value:e,label:s[e]}]:t=!1,this.getHash().indexOf("crawlfrequency")>0&&(n=!1),{languageData:i,show:t,timeshow:n,date:window.lastDate,selectLang:o.default.get("language")}},ready:function(){},methods:{onMenuControl:function(){this.$emit("menuclick")},onLangChange:function(e){o.default.set("language",e),setTimeout(function(){window.location.reload()},20)},getHash:function(){var e=window.location.hash;return e=e.indexOf("!/")>0?e.substring(2):"/"}}}},21:function(e,t){e.exports=' <div class=header _v-d808f744=""> <a href=javascript:; @click=onMenuControl class=menu _v-d808f744=""><icon type=navicon _v-d808f744=""></icon></a> <span class=title _v-d808f744="">CMS</span> <div class=language v-if=show _v-d808f744=""> <div class=time v-if=timeshow _v-d808f744=""> The data ends at : <span _v-d808f744="">{{date}}</span> </div> <i-select size=small :model.sync=selectLang style=width:100px @on-change=onLangChange _v-d808f744=""> <i-option v-for="item in languageData" :value=item.value _v-d808f744="">{{ item.label }}</i-option> </i-select> </div> </div> '},22:function(e,t,n){var i,a;n(23),i=n(24),a=n(25),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),a&&(("function"==typeof e.exports?e.exports.options:e.exports).template=a)},23:function(e,t){},24:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(e){return{active:this.getHash(),permission:window.permission}},ready:function(){},beforeDestroy:function(){},methods:{onSelect:function(e){window._interval&&window.clearInterval(window._interval);var t=this.getHash();t.indexOf(e)==-1&&window.Loading.show(),window.location.href="#"+e},getHash:function(){var e=window.location.hash;return e=e.indexOf("!/")>0?e.substring(2):"/"}}}},25:function(e,t){e.exports=' <menu :active-key=active @on-select=onSelect _v-5ec61870=""> <menu-item v-if=permission.news key=/ _v-5ec61870=""> <icon type=home _v-5ec61870=""></icon> 新闻管理 </menu-item> <menu-item key=/temp _v-5ec61870=""> <icon type=home _v-5ec61870=""></icon> 电影节活动 </menu-item> </menu> '},26:function(e,t){e.exports=' <div class=g-hd _v-327a067b=""> <nav-head v-on:menuclick=onMenuClick _v-327a067b=""></nav-head> </div> <div class=g-sd :class="{ hideMenu: !navMenuDisplay }" _v-327a067b=""> <cmp-menu _v-327a067b=""></cmp-menu> </div> <div class=g-mn :class="{ mnShowAll: !navMenuDisplay }" _v-327a067b=""> <slot name=main _v-327a067b=""> </slot> </div> '},28:function(e,t,n){var i,a;n(29),i=n(30),a=n(215),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),a&&(("function"==typeof e.exports?e.exports.options:e.exports).template=a)},29:function(e,t){},30:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),o=i(a),s=n(31),l=i(s),r=n(35),c=i(r),d=n(103),u=(i(d),n(104)),p=i(u),f={br:"http://noticias.cennoticias.com/",id:"http://berita.baca.co.id/"},v=(0,p.default)(new Date).format("YYYY-MM-DD"),h=Date.now(),m=f[window.lan];console.log("window.lan:",window.lan),t.default={data:function(){return{self:this,param:{dateRange:[v+" 00:00:00",new Date],value:"",query_by:"news_id_list",dateDisplay:!1},dateOptions:{disabledDate:function(e){var t=e.valueOf();return e&&(t>=h||t<=earlyDate)}},columns:[{type:"selection",width:60,align:"center"},{title:"news_id",key:"news_id",width:100,render:function(e){return'<a href="'+m+e.news_id+'" target="_blank">'+e.news_id+"</a>"}},{title:"title",key:"title"},{title:"author",key:"author",width:150},{title:"media_id",key:"media_id",width:100},{title:"created_time",key:"created_time",width:240},{title:"",key:"opt",width:240,render:function(e){return'<i-button @click="onDelete('+e.news_id+')" type="error" size="small">删除</i-button>'}}],sendStatus:{btnText:"删除选中",precent:0,max:0,num:0},select:[],dataAll:[],dataTable:[],loading:!1,total:0,current:1,pagesize:10,sortableData:{}}},ready:function(){window.Loading.hide()},methods:{onSearch:function(){var e=this,t=this.param,n=t.dateRange,i=t.value,a=t.query_by;if(!i)return void this.$Notice.error({title:"参数错误！",desc:a+"的值，必须要填写！如果为多个，需要以逗号隔开！中间不能有空格等其他字符"});var o={query_by:a,value:i};if("news_id_list"==a);else{if(2!=n.length)return void this.$Notice.error({title:"参数错误！",desc:"当选择为"+a+"的时候，时间范围必须选择！"});o.start_time=(0,p.default)(n[0]).format("YYYY-MM-DD HH:mm:ss"),o.end_time=(0,p.default)(n[1]).format("YYYY-MM-DD HH:mm:ss")}console.log("_param:",o),this.loading=!0,c.default.news.queryNews(o).then(function(t){e.dataAll=t.lists,e.total=t.lists.length,e.setTablePagin(1),e.loading=!1},function(t){e.dataAll=[],e.total=0,e.setTablePagin(1),e.loading=!1,e.$Notice.error({title:"获取数据出错！",desc:"错误代码："+t.errno+":"+t.err})})},onSelect:function(e){this.select=e},onSelectChange:function(e){"news_id_list"==e?this.param.dateDisplay=!1:this.param.dateDisplay=!0},onDelete:function(e){var t=this;this.$Modal.confirm({title:"删除确认",content:"确认要删除ID为"+e+"吗？",onOk:function(){c.default.news.deleteNews([e]).then(function(n){t.deleteOver([e]),t.$Notice.success({title:"删除成功！"})},function(e){t.$Notice.error({title:"删除失败",desc:e})})}})},deleteOver:function(e){var t={};e.map(function(e){t[e]=!0});var n=this.dataAll,i=[];n.map(function(e){t[e.news_id]||i.push(e)}),this.dataAll=i,this.total=i.length,this.setTablePagin(this.current)},onDeleteMany:function(){var e=this,t=this.select;this.$Modal.confirm({title:"删除确认",content:"确认要删除选中的"+t.length+"条数据吗？",onOk:function(){var n=[];t.map(function(e){n.push(e.news_id)}),c.default.news.deleteNews(n).then(function(t){e.deleteOver(n),e.$Notice.success({title:"删除成功！"})},function(t){e.$Notice.error({title:"删除失败",desc:t})})}})},onPageSizeChange:function(e){this.pagesize=e,this.setTablePagin(1)},setTablePagin:function(e){this.current=e,this.dataTable=this.getArr10(e)},getArr10:function(e){var t=this.dataAll;e=e||1;for(var n=this.pagesize,i=[],a=(e-1)*n;a<e*n&&t[a];a++)i.push(t[a]);return i},onSortChange:function(e){console.log("l:",e),this.loading=!0;var t=e.key,n=e.order,i=this.dataAll,a=void 0,o=void 0;"asc"==n?this.dataAll=i.sort(function(e,n){return a=parseFloat(e[t])||0,o=parseFloat(n[t])||0,a>o?-1:1}):this.dataAll=i.sort(function(e,n){return a=parseFloat(e[t])||0,o=parseFloat(n[t])||0,a>o?1:-1}),this.setTablePagin(this.current),this.loading=!1}},components:{layoutMain:o.default,queryLayout:l.default}}},31:function(e,t,n){var i,a;n(32),i=n(33),a=n(34),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),a&&(("function"==typeof e.exports?e.exports.options:e.exports).template=a)},32:function(e,t){},33:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["morehide","showmore","top"],data:function(){return{}},ready:function(){console.log("top:",this.top)},methods:{},watch:{}}},34:function(e,t){e.exports=' <div class=querylist-panel _v-e9bd151e=""> <div class=condition _v-e9bd151e=""> <slot name=condition _v-e9bd151e=""> </slot> <div class=more v-if=showmore _v-e9bd151e=""> <div class=condition-more _v-e9bd151e=""> <slot name=conditionMore _v-e9bd151e=""> </slot> </div> </div> </div> <div class=q-panel v-bind:style="{ top : top + \'px\' }" _v-e9bd151e=""> <slot name=panel _v-e9bd151e=""> </slot> </div> </div> '},215:function(e,t){e.exports=' <layout-main _v-0771694c=""> <query-layout slot=main top=50 _v-0771694c=""> <div slot=condition class=condition _v-0771694c=""> <span class=title _v-0771694c="">新闻管理</span> <date-picker v-if=param.dateDisplay :value.sync=param.dateRange format="yyyy-MM-dd HH:mm:ss" type=datetimerange placement=bottom-end placeholder=选择日期 class=date style="width: 300px" _v-0771694c=""> </date-picker> <i-select @on-change=onSelectChange :model.sync=param.query_by style=width:120px;text-align:left _v-0771694c=""> <i-option value=news_id_list _v-0771694c="">news_id_ids</i-option> <i-option value=category_name _v-0771694c="">category_name</i-option> <i-option value=media_id _v-0771694c="">media_id</i-option> </i-select> <i-input :value.sync=param.value placeholder=value style=width:300px _v-0771694c=""></i-input> <i-button type=primary icon=ios-search @click=onSearch _v-0771694c="">搜索</i-button> </div> <div slot=panel class=tables-panel _v-0771694c=""> <div style="margin: 10px;overflow: hidden" _v-0771694c=""> <i-button v-if="select.length > 0" type=error icon=android-delete @click=onDeleteMany size=small _v-0771694c="">{{sendStatus.btnText}}({{select.length}}条)</i-button> <div style="float: right" _v-0771694c=""> <page size=small :current=current :page-size=pagesize :total=total show-sizer="" show-elevator="" @on-page-size-change=onPageSizeChange @on-change=setTablePagin _v-0771694c=""> </page> </div> </div> <i-table :content=self v-if=!loading :columns=columns class=dash-table size=small :data=dataTable v-ref:table="" @on-sort-change=onSortChange @on-selection-change=onSelect _v-0771694c=""></i-table> <spin size=large fix="" v-if=loading _v-0771694c=""></spin> </div> </query-layout> </layout-main> '}});